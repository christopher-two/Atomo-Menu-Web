---
import type { Dish } from "../domain/models/DigitalMenu";
import { formatCurrency } from "../lib/format";

interface Props {
  dish: Dish;
}
const { dish } = Astro.props as Props;
const id = dish?.id ?? String(Math.random()).slice(2);
---

<article class="menu-dish" aria-labelledby={`dish-${id}-title`}>
  <div class="menu-dish-head flex items-baseline justify-between gap-4">
    <h3 id={`dish-${id}-title`} class="dish-title text-lg md:text-xl font-bold uppercase">
      {dish?.name ?? "Unnamed"}
    </h3>
    <div class="dish-price text-sm md:text-base font-semibold whitespace-nowrap">
      {formatCurrency(dish?.price)}
    </div>
  </div>

  {dish?.description && (
    <p class="dish-desc text-sm text-gray-600 mt-2 leading-relaxed">{dish.description}</p>
  )}
</article>

<style>
.menu-dish { padding: 0.5rem 0; }
.menu-dish-head { gap: 0.5rem; align-items: baseline; }
.dish-title { line-height: 1; }
.dish-price { padding: .05rem .5rem; border-radius: .25rem; }
@media (prefers-reduced-motion: reduce) {
  .menu-dish * { transition: none !important; animation: none !important; }
}
</style>
