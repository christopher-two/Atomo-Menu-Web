---
import type { Portfolio } from "../../../domain/models/Portfolio";

interface Props {
  portfolio: Portfolio;
}

const { portfolio } = Astro.props;
---

<div
  class="modern-portfolio bg-[#f3f3f3] min-h-screen font-sans text-black relative py-20 px-4 md:px-12"
>
  <div class="max-w-[1800px] mx-auto">
    <header
      class="mb-32 flex flex-col md:flex-row justify-between items-end gap-12 border-b-2 border-black pb-8"
    >
      <h1
        class="text-7xl md:text-9xl font-bold uppercase leading-[0.8] tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-black to-transparent"
      >
        {portfolio.title}
      </h1>
      <p class="text-xl font-medium text-gray-500 max-w-md text-right">
        {portfolio.description}
      </p>
    </header>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      {
        portfolio.items?.map((item, index) => (
          <article
            class={`group relative ${index % 3 === 0 ? "md:col-span-2" : ""}`}
          >
            <div class="relative overflow-hidden bg-white shadow-2xl transition-all duration-500 group-hover:-translate-y-2">
              <div
                class={`aspect-video ${index % 3 === 0 ? "aspect-[21/9]" : ""} overflow-hidden bg-gray-200`}
              >
                {item.image_url ? (
                  <img
                    src={item.image_url}
                    alt={item.title}
                    class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                  />
                ) : (
                  <div class="w-full h-full flex items-center justify-center bg-gray-100 text-gray-400 font-bold uppercase">
                    No visual signal
                  </div>
                )}
              </div>

              <div class="absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-between p-8 md:p-12">
                <div class="flex justify-between items-start">
                  <span class="text-white border border-white rounded-full px-4 py-1 text-sm uppercase tracking-widest">
                    {index + 1}
                  </span>
                  {item.project_url && (
                    <a
                      href={item.project_url}
                      target="_blank"
                      class="bg-white text-black w-12 h-12 flex items-center justify-center rounded-full hover:scale-110 transition-transform"
                    >
                      â†—
                    </a>
                  )}
                </div>
                <div>
                  <h2 class="text-4xl md:text-6xl font-bold text-white uppercase tracking-tight mb-4">
                    {item.title}
                  </h2>
                  <p class="text-gray-300 max-w-xl text-lg">
                    {item.description}
                  </p>
                </div>
              </div>
            </div>
            <h3 class="mt-4 text-2xl font-bold uppercase md:hidden">
              {item.title}
            </h3>
          </article>
        ))
      }
    </div>

    <footer
      class="mt-32 pt-12 border-t-2 border-black flex justify-between uppercase font-bold tracking-widest text-xs"
    >
      <p>Portfolio Selection</p>
      <p>{new Date().getFullYear()}</p>
    </footer>
  </div>
</div>

<style>
  @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800;900&display=swap");
  .modern-portfolio {
    font-family: "Inter", sans-serif;
  }
</style>
