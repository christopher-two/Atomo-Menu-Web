---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Atomo — Plataforma" description="Crea perfiles, menús y tiendas con plantillas.">
  <div class="portfolio-viewport">
    <style>
      /* landing styles (keeps visual language from portfolio) */
      .landing-panel { display:flex; align-items:center; min-height:100vh; padding:2rem; box-sizing:border-box; color: #fff; position: relative; overflow: hidden; }
      .landing-bg { position:absolute; inset:0; background:linear-gradient(90deg, rgba(0,0,0,0.55), rgba(0,0,0,0.65)); backdrop-filter: blur(3px); z-index:0; }
      .landing-content { position:relative; z-index:10; max-width:1100px; }
      .landing-title { font-size: clamp(2.4rem, 10vw, 6rem); line-height:0.9; font-weight:900; margin:0 0 1rem; }
      .lead { color: #d1d5db; margin-bottom:1rem; max-width: 60ch; }
      .pricing-cards { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:1rem; margin-top:1rem; }
      .plan-card { background: rgba(255,255,255,0.03); padding:1rem; border-radius:8px; }
      .price { font-weight:800; font-size:1.4rem; margin:0.5rem 0; color:#fff; }
      .pricing-toggle { display:inline-flex; background:rgba(255,255,255,0.04); padding:0.25rem; border-radius:999px; }
      .toggle-btn { border:none; background:transparent; color:#ddd; padding:0.35rem 0.75rem; cursor:pointer; }
      .toggle-btn.active { background:#111; color:#fff; border-radius:999px; }
      .btn-primary { background: #fff; color:#000; padding:0.6rem 1rem; border-radius:6px; border:none; cursor:pointer; }
      .btn-ghost { color:#fff; text-decoration:underline; background:transparent; border:none; padding:0.5rem; }
      @media (max-width:768px) { .landing-panel { padding:1rem; } .pricing-cards { grid-template-columns: 1fr; } }
    </style>

    <section class="panel landing-panel" id="landing-root" tabindex="0">
      <div class="landing-bg" aria-hidden="true"></div>

      <div class="landing-content">
        <h1 class="landing-title">ATOMO — Tu sitio, en minutos</h1>
        <p class="lead">Plataforma para crear perfiles, menús y tiendas con plantillas profesionales. Escala desde pruebas gratuitas hasta hosting con dominio propio.</p>

        <div class="landing-actions" style="display:flex;gap:.75rem;flex-wrap:wrap">
          <button id="cta-get-started" class="btn-primary">Comenzar</button>
          <a href="/atomo/portfolio" class="btn-ghost" style="align-self:center">Ver plantillas</a>
        </div>

        <div class="pricing-block" style="margin-top:1.5rem">
          <div class="pricing-toggle" role="tablist" aria-label="Modo de facturación">
            <button class="toggle-btn active" data-mode="monthly">Mensual</button>
            <button class="toggle-btn" data-mode="annual">Anual</button>
          </div>

          <div class="pricing-cards" id="pricing-cards">
            <article class="plan-card" data-plan="free" role="region" aria-labelledby="plan-free-title">
              <h3 id="plan-free-title">PLAN ATOMO FREE</h3>
              <div class="price">0.00 MXN <span class="period">/mes</span></div>
              <ul>
                <li>Licencia limitada: plantillas básicas</li>
                <li>Perfil Link‑in‑bio</li>
                <li>Subdominio: www.atomo.click/usuario</li>
                <li>Publicidad insertada por ATOMO</li>
                <li>No soporte personalizado</li>
              </ul>
              <button class="plan-choose btn-primary" data-plan="free">Elegir GRATIS</button>
            </article>

            <article class="plan-card" data-plan="core" role="region" aria-labelledby="plan-core-title">
              <h3 id="plan-core-title">PLAN ATOMO CORE</h3>
              <div class="price" data-price-month="59" data-price-year="600">59 MXN <span class="period">/mes</span></div>
              <ul>
                <li>Plantillas Core + Free</li>
                <li>Hasta 2 servicios simultáneos</li>
                <li>Ruta personalizada en el dominio Atomo</li>
                <li>Reducción de anuncios de terceros</li>
              </ul>
              <button class="plan-choose btn-primary" data-plan="core">Contratar</button>
            </article>

            <article class="plan-card" data-plan="quantum" role="region" aria-labelledby="plan-quantum-title">
              <h3 id="plan-quantum-title">PLAN ATOMO QUANTUM</h3>
              <div class="price" data-price-month="159" data-price-year="1000">159 MXN <span class="period">/mes</span></div>
              <ul>
                <li>Acceso ilimitado a plantillas y servicios</li>
                <li>Conectar dominio propio</li>
                <li>Páginas libres de anuncios de terceros</li>
                <li>Personalización avanzada</li>
              </ul>
              <button class="plan-choose btn-primary" data-plan="quantum">Contratar</button>
            </article>
          </div>
        </div>
      </div>
    </section>

    <script is:inline>
      (function () {
        const toggles = Array.from(document.querySelectorAll('.toggle-btn'));
        const prices = Array.from(document.querySelectorAll('.plan-card .price'));
        function setMode(mode) {
          toggles.forEach(t => t.classList.toggle('active', t.dataset.mode === mode || (t.dataset.mode === undefined && t.textContent.toLowerCase().includes(mode === 'monthly' ? 'mens' : 'anual')));
          prices.forEach(p => {
            const m = p.getAttribute('data-price-month');
            const y = p.getAttribute('data-price-year');
            if (!m || !y) return;
            if (mode === 'monthly') p.innerHTML = `${m} MXN <span class="period">/mes</span>`;
            else p.innerHTML = `${y} MXN <span class="period">/año</span>`;
          });
        }
        toggles.forEach(t => t.addEventListener('click', () => setMode(t.dataset.mode || (t.textContent.toLowerCase().includes('mens') ? 'monthly' : 'annual'))));
        setMode('monthly');

        const cta = document.getElementById('cta-get-started');
        if (cta) cta.addEventListener('click', () => { window.location.href = '/atomo/portfolio'; });

        Array.from(document.querySelectorAll('.plan-choose')).forEach(btn => btn.addEventListener('click', () => {
          const plan = btn.dataset.plan;
          window.location.href = `/signup?plan=${plan}`;
        }));
      })();
    </script>
  </div>
</Layout>
